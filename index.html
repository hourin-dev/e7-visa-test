<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-7-4 비자 점수 계산기 (개정 점수제 반영)</title>
    <style>
        /* ... (생략) ... */
    </style>
</head>
<body>
    <div class="container">
        <h1>E-7-4 비자 점수 계산기 (최신 개정)</h1>
        <small style="text-align: center; display: block; color: red;">※ 총점 300점 만점 / 합격 기준 200점 이상</small>
        
        <div id="input-area">
            
            <h2>1. 기본 항목 (자동 계산, 최대 300점)</h2>
            <div class="button-group">
                <button id="calculateButton" onclick="calculateScore()">E-7-4 점수 계산 및 진단하기</button>
            </div>
        </div>

        <div id="results" style="display:none;">
            <h2>4. 최종 계산 결과 및 진단 (기준 200점)</h2>
            <div id="score_details"></div>
            
            <div class="final-score">총 합산 점수: <span id="final_score_value">0</span>점</div>
            <div id="eligibility_status" class="eligibility"></div>
            
            <button id="newInputButton" onclick="resetForm()">새 입력 시작</button>
        </div>
    </div>

    <script src="e74.js"></script> 
    
    <script>
        // 초기 입력값 설정
        const initialValues = {
            income: 30000000,
            korean_level: 3,
            age: 30,
            fine_count: 0,
            tax_arrear_count: 0,
            violation_count: 0
        };
        
        // 입력 폼 초기화 함수 (New 버튼 클릭 시)
        function resetForm() {
            // 1. 입력 필드 초기값으로 되돌리기
            document.getElementById('income').value = initialValues.income;
            document.getElementById('korean_level').value = initialValues.korean_level;
            document.getElementById('age').value = initialValues.age;
            document.getElementById('fine_count').value = initialValues.fine_count;
            document.getElementById('tax_arrear_count').value = initialValues.tax_arrear_count;
            document.getElementById('violation_count').value = initialValues.violation_count;
            
            // 드롭다운 및 체크박스 초기화
            document.getElementById('korean_level').value = '3'; // 기본값 3단계
            document.getElementById('rec_central').checked = false;
            document.getElementById('rec_local').checked = false;
            document.getElementById('rec_corp').checked = false;
            document.getElementById('long_service').checked = false;
            document.getElementById('local_area_work').checked = false;
            document.getElementById('tech_degree').checked = false;
            document.getElementById('driving_license').checked = false;
            document.getElementById('major_penalty').checked = false;
            document.getElementById('career').value = '0'; // Hidden field 초기화
            
            // 2. 결과 영역 숨기기
            document.getElementById('results').style.display = 'none';

            // 3. 입력 영역으로 스크롤 이동
            document.getElementById('input-area').scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>